!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";function n(t){return 180*t/Math.PI}function i(t,e,r,n,i,s){t.beginPath(),t.arc(e,r,n,0,2*Math.PI),t.strokeStyle=i,t.fillStyle=i,1==s?t.fill():t.stroke()}r.r(e);const s=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"];class o{constructor(t,e){this.x=t,this.y=e}plus(t){return new o(this.x+t.x,this.y+t.y)}}class c{constructor({r:t,orbitR:e,c:r,pos:n=new o(0,0),satellites:i=[],drawOrbits:s=!1}){this.pos=n,this.r=t,this.orbitR=e,this.c=r,this.drawOrbits=s,this.satellites=i}}class a{constructor(t,e){this.pos=t,this.v=e}}class l{constructor(t,e,r){this.sun=t,this.player=e,this.time=r,u(this.sun,r)}}function u(t,e){return t.satellites.forEach((r,i)=>{if(r){const s=t.r+t.orbitR*(i+1),c=e/(5e3*(i+1));r.pos=function(t,e,r){return new o(t.x+e*Math.sin(n(r)),t.y+e*Math.cos(n(r)))}(t.pos,s,c),u(r,5*e)}}),t}function h(t,e){let r=0,n=0;return e.ArrowLeft&&(r-=1),e.ArrowRight&&(r+=1),e.ArrowUp&&(n-=1),e.ArrowDown&&(n+=1),new a(t.pos.plus(new o(r,n)),t.v)}const d="black";const w=new c({pos:new o(200,200),r:25,orbitR:40,c:"orange",drawOrbits:!0,satellites:[new c({r:8,orbitR:3,c:"red"}),new c({r:10,orbitR:10,c:"blue",drawOrbits:!0,satellites:[new c({r:5,orbitR:1,c:"grey"})]}),new c({r:12,orbitR:5,c:"brown"})]}),f=document.getElementById("canvas"),p=f.getContext("2d");f.width=800,f.height=800,f.style.width="400px",f.style.height="400px",f.style.border="1px solid black",f.getContext("2d").scale(2,2);const y=new a(new o(20,20),new o(5,5)),b=new class{constructor(t,e,r){this.ctx=t,this.sun=e,this.sun_pos=r}draw(t){this.clearWorld(),this.drawCelestialBody(t.sun,t.sun.pos,t.time),this.drawRocket(t.player)}clearWorld(){this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height)}drawOrbits(t,e){for(let r=1;r<=t.satellites.length;r++)i(this.ctx,e.x,e.y,t.r+t.orbitR*r,d,!1)}drawGrid(t,e,r,n,i){if(i<=0)return;let s=t+(e-t)/2,o=r+(n-r)/2;this.ctx.strokeStyle="grey",this.ctx.beginPath(),this.ctx.moveTo(t,o),this.ctx.lineTo(e,o),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(s,r),this.ctx.lineTo(s,n),this.ctx.stroke(),drawGrid(t,s,r,o,i-1),drawGrid(s,e,r,o,i-1),drawGrid(t,s,o,n,i-1),drawGrid(s,e,o,n,i-1)}drawCelestialBody(t,e,r){t.drawOrbits&&this.drawOrbits(t,e),i(this.ctx,e.x,e.y,t.r,t.c,!0),t.satellites.forEach((t,e)=>{t&&this.drawCelestialBody(t,t.pos,5*r)})}drawRocket(t){this.ctx.beginPath(),this.ctx.strokeStyle="red",this.ctx.rect(t.pos.x,t.pos.y,20,20),this.ctx.stroke()}}(p);!function(t,e,r,n){const i=function(t){const e=Object.create(null);function r(r){t.includes(r.key)&&(e[r.key]="keydown"==r.type,r.preventDefault())}return window.addEventListener("keyup",r),window.addEventListener("keydown",r),e}(s),o=function(t,e,r,n){requestAnimationFrame((function(){e(t),o(r(n(t,i)),e,r,n)}))};o(t,e,r,n)}(new l(w,y,0),(function(t){b.draw(t)}),(function(t){const e=t.time+1;return new l(u(t.sun,e),h(t.player,e),e)}),(function(t,e){return e.ArrowUp||e.ArrowDown||e.ArrowLeft||e.ArrowRight?new l(t.sun,h(t.player,e),t.time):t}))}]);